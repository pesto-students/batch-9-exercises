<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="shortcut icon" href="https://www.pesto.tech/assets/favicon.ico" />
  <link rel="stylesheet" href="style.css">
  <title>Document</title>\
  <style>
    table {
      display: flex;
    align-items: center;
    justify-content: center;
    }
    table, td {
      border: 1px solid black;
    }
    .delete-anchor {
      color: blue;
      cursor:pointer;
    }
    </style>
</head>

<body>

  <h1 class='heading'>Session Storage Editor</h1>

  <form onsubmit="addToSessionStorage(event)">
    Key:
    <input type="text" name="key" class="input" id="key"> Value:
    <input type="text" name="value" class="input" id="value">

    <input type="submit" value="Submit" class="btn">
  </form>

  <!-- Do not remove the below div -->
  <div class='status'></div>
  <div >
    <h2 class="heading"> Live Session Storage</h2>
    <table id="liveStorageTable">
      <tr>
        <th>Key</th>
        <th>Value</th> 
      </tr>
    </table>
  </div>
  <script src="check.js"></script>
  <script type="text/javascript">
  function addToSessionStorage(event){
    event.preventDefault();
    const keyName = document.getElementById('key').value;
    const keyValue = document.getElementById('value').value;
    sessionStorage.setItem(keyName, keyValue);
    
    
  }

  function createTableCell(key, value) {
    try{
    const table = document.getElementById("liveStorageTable");
    const keyValueInSession = sessionStorage.getItem('key');
    if(keyValueInSession) {

    } else {
    const nextRow = table.length;
    var row = table.insertRow(nextRow);
    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1);
    var cell3 = row.insertCell(2);
    cell1.innerHTML = key;
    cell2.innerHTML = value;
    cell3.innerHTML = 'Delete';
    cell3.setAttribute('onclick', `deleteKeyFromSession('${key}', '${nextRow}')`)
    cell3.setAttribute('class','delete-anchor');
    return true;
    }
    
    } catch(e) {
      return false;
    }
  }

  function deleteKeyFromSession(key,rowToDel) {
    const table = document.getElementById("liveStorageTable");
    table.deleteRow(rowToDel);
    sessionStorage.removeItem(key);
    
  }
  </script>
</body>

</html>